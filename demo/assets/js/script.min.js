"use strict";var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Management=function(){function e(t,n){_classCallCheck(this,e),this.wheelWrap=document.getElementById(n),this.wheel=document.getElementById(t),this.posLeft=0,this.posTop=0,this.wheelWrapGBCR=this.wheelWrap.getBoundingClientRect(),this.wheelGBCR=this.wheel.getBoundingClientRect(),this.centerRectWrapX=this.wheelWrapGBCR.width/2,this.centerRectWrapY=this.wheelWrapGBCR.height/2,this.keyFirstDrag=!0,this.keyMoveX=!1,this.keyMoveY=!1,this.backSpeed=5,this.init()}return _createClass(e,[{key:"runWhell",value:function(){var e=this;this.wheel.onmousedown=function(t){var n=e.wheelWrap.getBoundingClientRect(),i=e.wheel.getBoundingClientRect();e.wheelGBCR=i,e.wheelWrap.onmousemove=function(t){var s=t.clientX-n.left,a=i.width/2,h=n.width-i.width/2;s<=a?s=a:s>=h&&(s=h);var o=t.clientY-n.top,r=i.height/2,c=n.height-i.height/2;o<=r?o=r:o>=c&&(o=c),e.movementWhell(s,o)}},document.onmouseup=function(){e.wheelWrap.onmousemove=function(){},e.keyMoveX=!0,e.keyMoveY=!0}}},{key:"movementWhell",value:function(e,t){this.wheel.style.left=e+"px",this.wheel.style.top=t+"px",this.posLeft=e,this.posTop=t}},{key:"backWheel",value:function(){!0===this.keyFirstDrag&&(this.posLeft=this.centerRectWrapX,this.posTop=this.centerRectWrapY,this.keyFirstDrag=!1),!0===this.keyMoveX&&(this.posLeft<this.centerRectWrapX-this.backSpeed?this.posLeft+=this.backSpeed:this.posLeft>this.centerRectWrapX+this.backSpeed?this.posLeft-=this.backSpeed:(this.posLeft=this.centerRectWrapX,this.keyMoveX=!1),this.movementWhell(this.posLeft,this.posTop)),!0===this.keyMoveY&&(this.posTop<this.centerRectWrapY-this.backSpeed?this.posTop+=this.backSpeed:this.posTop>this.centerRectWrapY+this.backSpeed?this.posTop-=this.backSpeed:(this.posTop=this.centerRectWrapY,this.keyMoveY=!1),this.movementWhell(this.posLeft,this.posTop))}},{key:"speedCanvasMovement",value:function(){this.backWheel();return{speedLeft:(this.centerRectWrapX-this.posLeft)/10,speedTop:(this.centerRectWrapY-this.posTop)/10}}},{key:"init",value:function(){this.runWhell()}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var DrawSpaceElements=function(){function e(t,n,i){_classCallCheck(this,e),this.ctx=t,this.pos1=n,this.pos2=i,this.init()}return _createClass(e,[{key:"createStar",value:function(){this.ctx.beginPath(),this.ctx.arc(this.pos1,this.pos2,10,0,2*Math.PI),this.ctx.fillStyle="green",this.ctx.fill()}},{key:"init",value:function(){this.createStar()}}]),e}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var FinallClass=function(){function e(t,n,i){_classCallCheck(this,e),this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.wheel=n,this.wheelWrap=i,this.setSizeCanvas(500,350),this.declareVariables()}return _createClass(e,[{key:"declareVariables",value:function(){this.posElLeft=1,this.posElTop=1,this.increment=0,this.numberStar=0}},{key:"managementWheel",value:function(){return new Management(this.wheel,this.wheelWrap)}},{key:"setSizeCanvas",value:function(e,t){this.canvas.width=e,this.canvas.height=t,this.canvas.style.border="1px solid #333"}},{key:"drawElement",value:function(e,t){var n=this.getRandomStr(.1,1,100);return null!==n&&console.log(n),{}}},{key:"drawElems",value:function(e,t){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawElement(e,t)}},{key:"getRandomStr",value:function(e,t,n){if(this.increment=this.increment+e,this.increment>=10){var i=Math.floor(Math.random()*(n-t+1))+t,s=Math.floor(Math.random()*(n-t+1))+t;return this.increment=0,{leftSpace:i,topSpace:s}}return null}}]),e}(),reqAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},newInstance=new FinallClass("SpaceShip","wheel","wheelWrap"),instanceManegement=newInstance.managementWheel();function run(){var e=instanceManegement.speedCanvasMovement();console.log(e),newInstance.drawElems(e.speedLeft,e.speedTop),reqAnimationFrame(run)}run();